<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Mastermind Visual</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="game-wrapper">
  <h2>Enter your guess</h2>

  <input
    id="guessInput"
    type="text"
    placeholder="red, blue, green, yellow, orange, purple"
  >

  <button id="guessBtn">Make Guess</button>


  <div class="container" id="container"></div>
</div>

<div id="overlay" class="overlay hidden">
  <div class="overlay-box">
    <h1 id="resultText"></h1>
    <p id="secretText"></p>
    <button id="overlayPlayAgain">Play Again</button>
  </div>
</div>
<script src="script.js"></script>
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("Service Worker Registered"));
  }
</script>
<script>
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
  // Prevent Chrome from showing default prompt
  e.preventDefault();
  deferredPrompt = e;

  // Show a custom button
  const installBtn = document.createElement('button');
  installBtn.textContent = 'Install Mastermind App';
  installBtn.style.position = 'fixed';
  installBtn.style.bottom = '20px';
  installBtn.style.right = '20px';
  installBtn.style.padding = '12px 20px';
  installBtn.style.fontSize = '16px';
  installBtn.style.zIndex = 1000;
  document.body.appendChild(installBtn);

  installBtn.addEventListener('click', async () => {
    installBtn.remove(); // hide button
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    console.log('PWA install outcome:', outcome);
    deferredPrompt = null;
  });
});
</script>
</body>
</html>
